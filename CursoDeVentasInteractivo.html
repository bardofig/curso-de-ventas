<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curso Definitivo de Ventas Modernas</title>
    <style>
        :root {
            --primary-color: #005A9C;
            --secondary-color: #003F6E;
            --accent-color: #FFC107;
            --light-gray: #f4f4f9;
            --dark-gray: #333;
            --success-color: #28a745;
            --error-color: #dc3545;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: var(--light-gray);
            color: var(--dark-gray);
        }

        .container {
            max-width: 960px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background-color: var(--primary-color);
            color: white;
            padding: 2rem 1rem;
            text-align: center;
            border-bottom: 5px solid var(--accent-color);
        }

        header h1 {
            margin: 0;
            font-size: 2.8rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }

        nav {
            background-color: var(--secondary-color);
            padding: 1rem;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
        }

        nav ul li a {
            color: white;
            text-decoration: none;
            padding: 10px 15px;
            display: block;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }

        nav ul li a:hover {
            background-color: var(--primary-color);
        }

        .module {
            background-color: white;
            margin-bottom: 25px;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            scroll-margin-top: 80px; /* Offset for sticky nav */
        }

        .module h2 {
            color: var(--secondary-color);
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 10px;
            font-size: 2rem;
        }
        
        .speak-button {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 8px 15px;
            font-size: 0.9rem;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin-bottom: 15px;
        }
        .speak-button:hover {
            background-color: var(--primary-color);
        }

        .clickable-card {
            display: block;
            text-decoration: none;
            color: inherit;
            border-radius: 5px;
            margin: 20px 0;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .clickable-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.15);
        }

        .key-point, .exercise, .expert-tip {
            padding: 15px;
            border-left-width: 5px;
            border-left-style: solid;
            border-radius: 0 5px 5px 0;
        }
        
        .clickable-card .key-point, .clickable-card .exercise, .clickable-card .expert-tip {
             margin: 0;
        }

        .key-point {
            background-color: #e7f3fe;
            border-left-color: #2196F3;
        }
        .key-point::before { content: ' Punto Clave: '; font-weight: bold; }

        .exercise {
            background-color: #fff9c4;
            border-left-color: #FFEB3B;
        }
        .exercise::before { content: ' Ejercicio Pr谩ctico: '; font-weight: bold; }

        .expert-tip {
            background-color: #e8f5e9;
            border-left-color: #4CAF50;
        }
        .expert-tip::before { content: ' Consejo de Experto: '; font-weight: bold; }
        
        .expand-notice {
            display: block;
            margin-top: 10px;
            font-style: italic;
            font-weight: bold;
            color: var(--primary-color);
            text-align: right;
        }

        .quiz-container {
            margin-top: 30px;
            padding: 20px;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 8px;
        }

        .quiz-container h3 {
            margin-top: 0;
            color: var(--secondary-color);
        }

        .question {
            margin-bottom: 15px;
        }

        .quiz-button {
            background-color: var(--accent-color);
            color: var(--dark-gray);
            border: none;
            padding: 12px 25px;
            font-size: 1rem;
            font-weight: bold;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .quiz-button:hover {
            background-color: #ffca28;
        }

        .quiz-results {
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
        }

        footer {
            text-align: center;
            padding: 20px;
            margin-top: 30px;
            background-color: var(--dark-gray);
            color: var(--light-gray);
        }
    </style>
</head>
<body>

    <header>
        <h1>Curso Definitivo de Ventas Modernas</h1>
        <p>De Cero a Cierre: Domina el Arte y la Ciencia de Vender</p>
    </header>

    <nav>
        <ul>
            <li><a href="#modulo1">M贸dulo 1: Mentalidad</a></li>
            <li><a href="#modulo2">M贸dulo 2: Neuroventas</a></li>
            <li><a href="#modulo3">M贸dulo 3: Proceso</a></li>
            <li><a href="#modulo4">M贸dulo 4: Persuasi贸n</a></li>
            <li><a href="#modulo5">M贸dulo 5: Venta Telef贸nica</a></li>
        </ul>
    </nav>

    <div class="container">
        <div id="modulo1" class="module">
            <h2>M贸dulo 1: La Mentalidad del Vendedor de xito</h2>
            <button class="speak-button" onclick="speakModule('modulo1')">讹 Escuchar M贸dulo</button>
            <p>Todo gran vendedor construye su 茅xito sobre una base s贸lida: la confianza inquebrantable en s铆 mismo. No se trata de arrogancia, sino de una profunda convicci贸n en el valor que ofreces y en tu capacidad para comunicarlo. Inspirado en las ideas de Emerson, el vendedor de 茅lite es un inconformista que piensa por s铆 mismo y no sigue ciegamente las costumbres.</p>
            
            <a href="modulos/1-1-confianza.html" class="clickable-card">
                <div class="key-point">
                    <strong>Conf铆a en ti mismo: cada coraz贸n vibra seg煤n esa cuerda de hierro.</strong> Tu intuici贸n y tu propio juicio son tus herramientas m谩s poderosas. No las silencies por seguir un guion o una t茅cnica que no resuena contigo. La autenticidad es magn茅tica.
                    <span class="expand-notice">Haz clic para expandir...</span>
                </div>
            </a>
            
            <a href="modulos/1-2-autenticidad.html" class="clickable-card">
                <div class="key-point">
                    <strong>La imitaci贸n es un suicidio.</strong> Querer ser como otro vendedor es renunciar a tu propia fortaleza. Aprende de los dem谩s, pero no los copies. Adapta las t茅cnicas a tu personalidad. Tu estilo 煤nico es tu mayor ventaja competitiva.
                    <span class="expand-notice">Haz clic para expandir...</span>
                </div>
            </a>
            <a href="modulos/1-3-confianza-transmitida.html" class="clickable-card">
            <div class="expert-tip">
                El cliente no compra un producto, compra la confianza que el vendedor le transmite. Si t煤 no crees en tu producto o en ti mismo, 驴por qu茅 deber铆a hacerlo el cliente? La confianza se proyecta en tu tono de voz, tu lenguaje corporal y tu seguridad al responder preguntas.
                <span class="expand-notice">Haz clic para expandir...</span>
            </div>
            </a>
            <a href="modulos/1-4-ejercicio-visualizacion.html" class="clickable-card">
            <div class="exercise">
                Dedica 5 minutos antes de empezar tu jornada a visualizar tus 茅xitos. Recuerda una venta en la que te sentiste invencible. Ancla ese sentimiento. Luego, escribe una frase que resuma por qu茅 crees genuinamente en lo que vendes. Rep铆tela.
                <span class="expand-notice">Haz clic para expandir...</span>
            </div>
            </a>
            <div class="quiz-container" id="quiz1"></div>
        </div>

        <div id="modulo2" class="module">
            <h2>M贸dulo 2: Psicolog铆a y Neuroventas</h2>
            <button class="speak-button" onclick="speakModule('modulo2')">讹 Escuchar M贸dulo</button>
            <p>Las decisiones de compra no son l贸gicas; son emocionales y se justifican con la l贸gica despu茅s. La neuroventa nos ense帽a a comunicarnos directamente con el cerebro que toma las decisiones: el cerebro reptiliano.</p>
            
            <a href="modulos/2-1-cerebro-reptiliano.html" class="clickable-card">
                <div class="key-point">
                    <strong>V茅ndele al cerebro reptiliano.</strong> Este cerebro es instintivo y ego铆sta. No le interesan las caracter铆sticas complejas, sino la supervivencia y el bienestar. Traduce lo que vendes a beneficios tangibles y directos: 驴c贸mo le ahorra dinero, tiempo o esfuerzo? 驴C贸mo le reduce el miedo o le da m谩s placer/estatus?
                    <span class="expand-notice">Haz clic para expandir...</span>
                </div>
            </a>

            <a href="modulos/2-2-lenguaje-accion.html" class="clickable-card">
            <div class="expert-tip">
                Usa verbos de acci贸n y conceptos visuales. En lugar de decir "nuestro software optimiza procesos", di "imagina eliminar tres horas de trabajo manual cada d铆a". Habla de "t煤" y "tus resultados", no de "nosotros" y "nuestro producto".
                <span class="expand-notice">Haz clic para expandir...</span>
            </div>
            </a>
             <a href="modulos/2-3-poder-contraste.html" class="clickable-card">
             <div class="key-point">
                <strong>El poder del contraste.</strong> El cerebro reptiliano entiende las cosas por comparaci贸n. Muestra un antes y un despu茅s, el problema y tu soluci贸n, el riesgo de no actuar vs. la seguridad de comprar. El contraste crea urgencia y claridad.
                <span class="expand-notice">Haz clic para expandir...</span>
            </div>
            </a>
            <a href="modulos/2-4-ejercicio-beneficio-reptiliano.html" class="clickable-card">
            <div class="exercise">
                Toma la caracter铆stica principal de tu producto. Ahora, escribe 5 formas de describirla apelando a la emoci贸n y al beneficio ego铆sta del cliente. Por ejemplo, si vendes un coche con "frenos ABS", el beneficio reptiliano es "Protege a tu familia en una frenada de emergencia".
                <span class="expand-notice">Haz clic para expandir...</span>
            </div>
            </a>
            <div class="quiz-container" id="quiz2"></div>
        </div>

        <div id="modulo3" class="module">
            <h2>M贸dulo 3: El Proceso de Venta Paso a Paso</h2>
            <button class="speak-button" onclick="speakModule('modulo3')">讹 Escuchar M贸dulo</button>
            <p>Una venta exitosa no es un acto de magia, es un proceso estructurado. Seguir los pasos te da control y te permite identificar d贸nde mejorar.</p>
            
            <a href="modulos/3-1-proceso-prospeccion.html" class="clickable-card">
                <div class="key-point"><strong>1. Prospecci贸n:</strong> 驴D贸nde est谩n tus clientes ideales? Define tu "buyer persona" y busca activamente donde se encuentre (redes, eventos, referidos).<span class="expand-notice">Haz clic para expandir...</span></div>
            </a>
            <a href="modulos/3-2-proceso-contacto.html" class="clickable-card">
                <div class="key-point"><strong>2. Contacto Inicial:</strong> Tu 煤nico objetivo es conseguir una reuni贸n. Aporta valor desde el primer segundo. Investiga a tu prospecto y personaliza tu mensaje.<span class="expand-notice">Haz clic para expandir...</span></div>
            </a>
            <a href="modulos/3-3-proceso-deteccion.html" class="clickable-card">
                <div class="key-point"><strong>3. Detecci贸n de Necesidades:</strong> 隆La fase m谩s importante! No hables, pregunta. Usa preguntas abiertas (Qu茅, C贸mo, Cu谩ndo, Por qu茅) para que el cliente te revele sus "dolores".<span class="expand-notice">Haz clic para expandir...</span></div>
            </a>
            <a href="modulos/3-4-proceso-presentacion.html" class="clickable-card">
                <div class="key-point"><strong>4. Presentaci贸n de la Soluci贸n:</strong> No recites un cat谩logo. Presenta 煤nicamente las caracter铆sticas que resuelven los "dolores" que el cliente te acaba de contar.<span class="expand-notice">Haz clic para expandir...</span></div>
            </a>
            <a href="modulos/3-5-proceso-objeciones.html" class="clickable-card">
                <div class="key-point"><strong>5. Manejo de Objeciones:</strong> Una objeci贸n no es un "no", es una petici贸n de m谩s informaci贸n. 隆Cel茅brala! Demuestra que has escuchado y luego resuelve la duda.<span class="expand-notice">Haz clic para expandir...</span></div>
            </a>
            <a href="modulos/3-6-proceso-cierre.html" class="clickable-card">
                <div class="key-point"><strong>6. Cierre:</strong> Si has hecho bien los pasos anteriores, el cierre es natural. Es simplemente preguntar por la venta.<span class="expand-notice">Haz clic para expandir...</span></div>
            </a>
            <a href="modulos/3-7-proceso-seguimiento.html" class="clickable-card">
                <div class="key-point"><strong>7. Seguimiento:</strong> La venta no termina con el pago. Un buen seguimiento asegura la satisfacci贸n, genera referidos y abre la puerta a futuras ventas.<span class="expand-notice">Haz clic para expandir...</span></div>
            </a>
            
            <a href="modulos/3-8-proceso-doctor-ventas.html" class="clickable-card">
            <div class="expert-tip">
                El mejor vendedor no es el que mejor habla, sino el que mejor escucha y hace las preguntas m谩s inteligentes. Tu objetivo es ser un "doctor de ventas": diagnostica el problema antes de recetar la soluci贸n.
                <span class="expand-notice">Haz clic para expandir...</span>
            </div>
            </a>
            <div class="quiz-container" id="quiz3"></div>
        </div>

        <div id="modulo4" class="module">
            <h2>M贸dulo 4: T茅cnicas Maestras de Persuasi贸n y Cierre</h2>
            <button class="speak-button" onclick="speakModule('modulo4')">讹 Escuchar M贸dulo</button>
            <p>La persuasi贸n no es manipulaci贸n; es el arte de presentar la verdad de la forma m谩s convincente. Se basa en principios psicol贸gicos universales.</p>
            <a href="modulos/4-1-persuasion-reciprocidad.html" class="clickable-card">
            <div class="key-point">
                <strong>Principio de Reciprocidad:</strong> Ofrece valor genuino antes de pedir nada a cambio (un consejo, un peque帽o informe, una demo 煤til). La gente se siente naturally inclinada a devolver el favor.
                <span class="expand-notice">Haz clic para expandir...</span>
            </div>
            </a>
            <a href="modulos/4-2-persuasion-escasez.html" class="clickable-card">
            <div class="key-point">
                <strong>Principio de Escasez:</strong> "Oferta por tiempo limitado", "Solo quedan 3 unidades". Lo que es escaso se percibe como m谩s valioso. salo con 茅tica y solo cuando sea real.
                <span class="expand-notice">Haz clic para expandir...</span>
            </div>
            </a>
            <a href="modulos/4-3-persuasion-prueba-social.html" class="clickable-card">
            <div class="key-point">
                <strong>Principio de Prueba Social:</strong> "El 90% de nuestros clientes reportan...", "Somos la soluci贸n mejor valorada en...". Mostramos que otros como ellos ya conf铆an en nosotros. Los testimonios y los casos de 茅xito son oro.
                <span class="expand-notice">Haz clic para expandir...</span>
            </div>
            </a>
            <a href="modulos/4-4-persuasion-doble-alternativa.html" class="clickable-card">
            <div class="expert-tip">
                Para el cierre, utiliza la "T茅cnica del Doble Alternativa". No preguntes "si" quiere comprar, sino "c贸mo" quiere comprar. "驴Prefieres pagar con tarjeta o transferencia?" o "驴La entrega la programamos para el martes o para el jueves?". Asume la venta.
                <span class="expand-notice">Haz clic para expandir...</span>
            </div>
            </a>
             <a href="modulos/4-5-persuasion-ejercicio.html" class="clickable-card">
             <div class="exercise">
                Piensa en tu proceso de venta. 驴D贸nde puedes aplicar cada uno de estos principios? 驴Puedes ofrecer algo de valor al inicio (reciprocidad)? 驴Tienes testimonios potentes (prueba social)? 驴Hay alguna raz贸n leg铆tima para crear urgencia (escasez)?
                <span class="expand-notice">Haz clic para expandir...</span>
            </div>
            </a>
            <div class="quiz-container" id="quiz4"></div>
        </div>

        <div id="modulo5" class="module">
            <h2>M贸dulo 5: Canales de Venta Espec铆ficos: Venta Telef贸nica</h2>
            <button class="speak-button" onclick="speakModule('modulo5')">讹 Escuchar M贸dulo</button>
            <p>El tel茅fono sigue siendo una herramienta de venta incre铆blemente poderosa si se usa correctamente. Tu voz es tu 煤nica herramienta para transmitir confianza y emoci贸n.</p>
            <a href="modulos/5-1-telefonica-sonrisa.html" class="clickable-card">
            <div class="key-point">
                <strong>La Sonrisa Telef贸nica:</strong> Sonr铆e f铆sicamente cuando hables. Aunque no te vean, tu tono de voz cambia, se vuelve m谩s c谩lido y amigable. Es un truco neurol贸gico que funciona.
                <span class="expand-notice">Haz clic para expandir...</span>
            </div>
            </a>
            <a href="modulos/5-2-telefonica-estructura.html" class="clickable-card">
            <div class="expert-tip">
                <strong>Estructura de la llamada:</strong>
                <ol>
                    <li><strong>Apertura (Primeros 7 segundos):</strong> Di tu nombre, tu empresa y una raz贸n ultra-relevante para tu llamada.</li>
                    <li><strong>Calificaci贸n:</strong> Haz 2-3 preguntas clave para ver si es el prospecto adecuado.</li>
                    <li><strong>Crear Inter茅s:</strong> Comparte un dato impactante o un beneficio clave.</li>
                    <li><strong>Objetivo:</strong> Tu objetivo es agendar una reuni贸n m谩s larga.</li>
                </ol>
                <span class="expand-notice">Haz clic para expandir...</span>
            </div>
            </a>
             <a href="modulos/5-3-telefonica-ejercicio-grabacion.html" class="clickable-card">
             <div class="exercise">
                Gr谩bate leyendo tu guion de llamada. Luego esc煤chate. 驴Suenas mon贸tono? 驴Dubitativo? 驴O transmites energ铆a y seguridad? Pide a un colega que te d茅 feedback honesto sobre tu "voz de vendedor".
                <span class="expand-notice">Haz clic para expandir...</span>
            </div>
            </a>
            <div class="quiz-container" id="quiz5"></div>
        </div>
    </div>

    <footer>
        <p>Curso creado con la s铆ntesis de conocimiento experto. 漏 2025</p>
        <p>Recuerda: El aprendizaje es un viaje, no un destino. 隆Sigue practicando!</p>
    </footer>

    <script>
        // --- L贸gica de los Quizzes ---
        const quizzes = {
            quiz1: {
                title: "Autoevaluaci贸n: Mentalidad",
                questions: [
                    { q: "Seg煤n el curso, 驴cu谩l es la base del 茅xito de un vendedor?", a: "La confianza en s铆 mismo y su autenticidad." },
                    { q: "驴Qu茅 significa 'la imitaci贸n es un suicidio' en ventas?", a: "Copiar a otros te hace renunciar a tu estilo 煤nico, que es tu mayor ventaja." },
                    { q: "El cliente no compra un producto, compra la...", a: "Confianza que el vendedor transmite." }
                ]
            },
            quiz2: {
                title: "Autoevaluaci贸n: Neuroventas",
                questions: [
                    { q: "驴A qu茅 cerebro debemos dirigir nuestro mensaje de venta?", a: "Al cerebro reptiliano." },
                    { q: "驴Qu茅 le interesa a este cerebro?", a: "La supervivencia, el ahorro de energ铆a y el aumento del placer/estatus." },
                    { q: "Una forma efectiva de crear urgencia y claridad es usar el...", a: "Contraste (antes/despu茅s, problema/soluci贸n)." }
                ]
            },
            quiz3: {
                title: "Autoevaluaci贸n: Proceso de Venta",
                questions: [
                    { q: "驴Cu谩l es la fase m谩s importante del proceso de venta?", a: "La detecci贸n de necesidades." },
                    { q: "En la fase de detecci贸n de necesidades, un buen vendedor...", a: "Escucha el 80% y habla el 20%." },
                    { q: "Una objeci贸n debe ser vista como...", a: "Una petici贸n de m谩s informaci贸n." }
                ]
            },
            quiz4: {
                title: "Autoevaluaci贸n: Persuasi贸n y Cierre",
                questions: [
                    { q: "Ofrecer un consejo 煤til antes de pedir una reuni贸n es un ejemplo del principio de...", a: "Reciprocidad." },
                    { q: "Mostrar testimonios de clientes satisfechos apela al principio de...", a: "Prueba Social." },
                    { q: "La t茅cnica del 'Doble Alternativa' (ej: '驴martes o jueves?') ayuda a...", a: "Asumir la venta y facilitar el cierre." }
                ]
            },
            quiz5: {
                title: "Autoevaluaci贸n: Venta Telef贸nica",
                questions: [
                    { q: "驴Qu茅 es la 'sonrisa telef贸nica'?", a: "Sonre铆r f铆sicamente mientras hablas para que tu tono de voz sea m谩s c谩lido." },
                    { q: "驴Cu谩l es el objetivo principal de una primera llamada en fr铆o?", a: "Agendar una reuni贸n, no vender el producto completo." },
                    { q: "Los primeros segundos de la llamada son cruciales para...", a: "Captar la atenci贸n con un mensaje relevante y personalizado." }
                ]
            }
        };

        function renderQuiz(quizId) {
            const quizData = quizzes[quizId];
            const quizContainer = document.getElementById(quizId);
            if (!quizData || !quizContainer) return;

            let html = `<h3>${quizData.title}</h3>`;
            quizData.questions.forEach((item, index) => {
                const parts = item.q.split('...');
                html += `
                    <div class="question" id="q-${quizId}-${index}">
                        <p>${parts[0]} <input type="text" id="ans-${quizId}-${index}" placeholder="Completa la frase..."> ${parts[1] || ''}</p>
                    </div>
                `;
            });

            html += `<button class="quiz-button" onclick="submitQuiz('${quizId}')">Evaluar Mis Respuestas</button>`;
            html += `<div class="quiz-results" id="res-${quizId}"></div>`;
            quizContainer.innerHTML = html;
        }

        function submitQuiz(quizId) {
            const quizData = quizzes[quizId];
            let score = 0;
            quizData.questions.forEach((item, index) => {
                const userAnswer = document.getElementById(`ans-${quizId}-${index}`).value.trim().toLowerCase();
                const correctAnswer = item.a.trim().toLowerCase();
                const questionDiv = document.getElementById(`q-${quizId}-${index}`);
                if (userAnswer.length > 3 && correctAnswer.includes(userAnswer)) {
                    score++;
                    questionDiv.style.border = '2px solid var(--success-color)';
                } else {
                    questionDiv.style.border = '2px solid var(--error-color)';
                }
            });

            const resultsContainer = document.getElementById(`res-${quizId}`);
            const totalQuestions = quizData.questions.length;
            let feedbackText = `Tu puntuaci贸n: ${score} de ${totalQuestions}. `;
            if (score === totalQuestions) {
                feedbackText += "隆Excelente! Has interiorizado los conceptos clave.";
                resultsContainer.style.backgroundColor = 'var(--success-color)';
                resultsContainer.style.color = 'white';
            } else {
                feedbackText += "隆Buen intento! Repasa los puntos clave del m贸dulo para afianzar tu conocimiento.";
                resultsContainer.style.backgroundColor = 'var(--accent-color)';
                resultsContainer.style.color = 'var(--dark-gray)';
            }
            resultsContainer.innerHTML = feedbackText;
        }

        document.addEventListener('DOMContentLoaded', () => {
            for (const quizId in quizzes) {
                renderQuiz(quizId);
            }
        });

        // --- L贸gica de la S铆ntesis de Voz ---
        let femaleVoice = null;

        function loadAndSetVoice() {
            const voices = speechSynthesis.getVoices();
            const preferredNames = ['Paulina', 'Laura', 'Sof铆a', 'Camila', 'Monica', 'Isabella'];
            
            femaleVoice = voices.find(voice => voice.lang.startsWith('es-') && preferredNames.some(name => voice.name.includes(name))) ||
                          voices.find(voice => voice.lang.startsWith('es-') && (voice.name.includes('Female') || voice.name.includes('Femenina'))) ||
                          null;
        }

        loadAndSetVoice();
        if (speechSynthesis.onvoiceschanged !== undefined) {
            speechSynthesis.onvoiceschanged = loadAndSetVoice;
        }

        let currentlySpeakingModule = null;

        function speakModule(moduleId) {
            const allButtons = document.querySelectorAll('.speak-button');
            const currentButton = document.querySelector(`#${moduleId} .speak-button`);

            if (speechSynthesis.speaking && currentlySpeakingModule === moduleId) {
                speechSynthesis.cancel();
                currentlySpeakingModule = null;
                currentButton.innerHTML = '讹 Escuchar M贸dulo';
                return;
            }
            
            if (speechSynthesis.speaking) {
                speechSynthesis.cancel();
            }

            allButtons.forEach(btn => btn.innerHTML = '讹 Escuchar M贸dulo');
            currentButton.innerHTML = '癸 Deteniendo...';
            
            const moduleElement = document.getElementById(moduleId);
            if (!moduleElement) return;

            let textToSpeak = '';
            const elementsToRead = moduleElement.querySelectorAll('h2, p, .key-point, .expert-tip, .exercise');
            
            elementsToRead.forEach(el => {
                const clone = el.cloneNode(true);
                const notice = clone.querySelector('.expand-notice');
                if (notice) {
                    notice.remove();
                }
                textToSpeak += clone.innerText.trim() + '. ';
            });

            const utterance = new SpeechSynthesisUtterance(textToSpeak);
            utterance.lang = 'es-LA';

            if (femaleVoice) {
                utterance.voice = femaleVoice;
            }

            utterance.onstart = () => {
                currentlySpeakingModule = moduleId;
                currentButton.innerHTML = '癸 Detener Lectura';
            };
            utterance.onend = () => {
                currentlySpeakingModule = null;
                currentButton.innerHTML = '讹 Escuchar M贸dulo';
            };
            utterance.onerror = () => {
                currentlySpeakingModule = null;
                currentButton.innerHTML = '讹 Escuchar M贸dulo';
            };

            speechSynthesis.speak(utterance);
        }
    </script>
</body>
</html>
